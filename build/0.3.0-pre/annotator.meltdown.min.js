/*! annotator-meltdown 2016-03-29 */
!function(a){function b(a,b){var c=typeof a[b];return"function"===c||!("object"!=c||!a[b])||"unknown"==c}function c(a,b){return typeof a[b]!=r}function d(a,b){return!("object"!=typeof a[b]||!a[b])}function e(a){window.console&&window.console.log&&window.console.log("RangyInputs not supported in your browser. Reason: "+a)}function f(a,b,c){return 0>b&&(b+=a.value.length),typeof c==r&&(c=b),0>c&&(c+=a.value.length),{start:b,end:c}}function g(a,b,c){return{start:b,end:c,length:c-b,text:a.value.slice(b,c)}}function h(){return d(document,"body")?document.body:document.getElementsByTagName("body")[0]}var i,j,k,l,m,n,o,p,q,r="undefined";a(document).ready(function(){function s(a,b){return function(){var c=this.jquery?this[0]:this,d=c.nodeName.toLowerCase();if(1==c.nodeType&&("textarea"==d||"input"==d&&"text"==c.type)){var e=[c].concat(Array.prototype.slice.call(arguments)),f=a.apply(this,e);if(!b)return f}return b?this:void 0}}var t=document.createElement("textarea");if(h().appendChild(t),c(t,"selectionStart")&&c(t,"selectionEnd"))i=function(a){var b=a.selectionStart,c=a.selectionEnd;return g(a,b,c)},j=function(a,b,c){var d=f(a,b,c);a.selectionStart=d.start,a.selectionEnd=d.end},q=function(a,b){b?a.selectionEnd=a.selectionStart:a.selectionStart=a.selectionEnd};else{if(!(b(t,"createTextRange")&&d(document,"selection")&&b(document.selection,"createRange")))return h().removeChild(t),void e("No means of finding text input caret position");i=function(a){var b,c,d,e,f=0,h=0,i=document.selection.createRange();return i&&i.parentElement()==a&&(d=a.value.length,b=a.value.replace(/\r\n/g,"\n"),c=a.createTextRange(),c.moveToBookmark(i.getBookmark()),e=a.createTextRange(),e.collapse(!1),c.compareEndPoints("StartToEnd",e)>-1?f=h=d:(f=-c.moveStart("character",-d),f+=b.slice(0,f).split("\n").length-1,c.compareEndPoints("EndToEnd",e)>-1?h=d:(h=-c.moveEnd("character",-d),h+=b.slice(0,h).split("\n").length-1))),g(a,f,h)};var u=function(a,b){return b-(a.value.slice(0,b).split("\r\n").length-1)};j=function(a,b,c){var d=f(a,b,c),e=a.createTextRange(),g=u(a,d.start);e.collapse(!0),d.start==d.end?e.move("character",g):(e.moveEnd("character",u(a,d.end)),e.moveStart("character",g)),e.select()},q=function(a,b){var c=document.selection.createRange();c.collapse(b),c.select()}}h().removeChild(t),l=function(a,b,c,d){var e;b!=c&&(e=a.value,a.value=e.slice(0,b)+e.slice(c)),d&&j(a,b,b)},k=function(a){var b=i(a);l(a,b.start,b.end,!0)},p=function(a){var b,c=i(a);return c.start!=c.end&&(b=a.value,a.value=b.slice(0,c.start)+b.slice(c.end)),j(a,c.start,c.start),c.text};var v=function(a,b,c,d){var e=b+c.length;if(d="string"==typeof d?d.toLowerCase():"",("collapsetoend"==d||"select"==d)&&/[\r\n]/.test(c)){var f=c.replace(/\r\n/g,"\n").replace(/\r/g,"\n");e=b+f.length;var g=b+f.indexOf("\n");"\r\n"==a.value.slice(g,g+2)&&(e+=f.match(/\n/g).length)}switch(d){case"collapsetostart":j(a,b,b);break;case"collapsetoend":j(a,e,e);break;case"select":j(a,b,e)}};m=function(a,b,c,d){var e=a.value;a.value=e.slice(0,c)+b+e.slice(c),"boolean"==typeof d&&(d=d?"collapseToEnd":""),v(a,c,b,d)},n=function(a,b,c){var d=i(a),e=a.value;a.value=e.slice(0,d.start)+b+e.slice(d.end),v(a,d.start,b,c||"collapseToEnd")},o=function(a,b,c,d){typeof c==r&&(c=b);var e=i(a),f=a.value;a.value=f.slice(0,e.start)+b+e.text+c+f.slice(e.end);var g=e.start+b.length;v(a,g,e.text,d||"select")},a.fn.extend({getSelection:s(i,!1),setSelection:s(j,!0),collapseSelection:s(q,!0),deleteSelectedText:s(k,!0),deleteText:s(l,!0),extractSelectedText:s(p,!1),insertText:s(m,!0),replaceSelectedText:s(n,!0),surroundSelectedText:s(o,!0)})})}(jQuery),function(){function a(a){var b=a.__resizeTriggers__,c=b.firstElementChild,d=b.lastElementChild,e=c.firstElementChild;d.scrollLeft=d.scrollWidth,d.scrollTop=d.scrollHeight,e.style.width=c.offsetWidth+1+"px",e.style.height=c.offsetHeight+1+"px",c.scrollLeft=c.scrollWidth,c.scrollTop=c.scrollHeight}function b(a){return a.offsetWidth!=a.__resizeLast__.width||a.offsetHeight!=a.__resizeLast__.height}function c(c){var d=this;a(this),this.__resizeRAF__&&f(this.__resizeRAF__),this.__resizeRAF__=e(function(){b(d)&&(d.__resizeLast__.width=d.offsetWidth,d.__resizeLast__.height=d.offsetHeight,d.__resizeListeners__.forEach(function(a){a.call(d,c)}))})}var d=document.attachEvent;if(!d)var e=function(){var a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return window.setTimeout(a,20)};return function(b){return a(b)}}(),f=function(){var a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(b){return a(b)}}();window.addResizeListener=function(b,e){d?b.attachEvent("onresize",e):(b.__resizeTriggers__||("static"==getComputedStyle(b).position&&(b.style.position="relative"),b.__resizeLast__={},b.__resizeListeners__=[],(b.__resizeTriggers__=document.createElement("div")).className="resize-triggers",b.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',b.appendChild(b.__resizeTriggers__),a(b),b.addEventListener("scroll",c,!0)),b.__resizeListeners__.push(e))},window.removeResizeListener=function(a,b){d?a.detachEvent("onresize",b):(a.__resizeListeners__.splice(a.__resizeListeners__.indexOf(b),1),a.__resizeListeners__.length||(a.removeEventListener("scroll",c),a.__resizeTriggers__=!a.removeChild(a.__resizeTriggers__)))}}(),function(){function a(a){"use strict";var b={omitExtraWLInCodeBlocks:{"default":!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{"default":!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{"default":!1,describe:"Specify a prefix to generated header ids",type:"string"},headerLevelStart:{"default":!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{"default":!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{"default":!1,describe:"Turn on/off GFM autolink style",type:"boolean"},literalMidWordUnderscores:{"default":!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},strikethrough:{"default":!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{"default":!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{"default":!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{"default":!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{"default":!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{"default":!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"}};if(a===!1)return JSON.parse(JSON.stringify(b));var c={};for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]["default"]);return c}function b(a,b){"use strict";var c=b?"Error in "+b+" extension->":"Error in unnamed extension",e={valid:!0,error:""};d.helper.isArray(a)||(a=[a]);for(var f=0;f<a.length;++f){var g=c+" sub-extension "+f+": ",h=a[f];if("object"!=typeof h)return e.valid=!1,e.error=g+"must be an object, but "+typeof h+" given",e;if(!d.helper.isString(h.type))return e.valid=!1,e.error=g+'property "type" must be a string, but '+typeof h.type+" given",e;var i=h.type=h.type.toLowerCase();if("language"===i&&(i=h.type="lang"),"html"===i&&(i=h.type="output"),"lang"!==i&&"output"!==i&&"listener"!==i)return e.valid=!1,e.error=g+"type "+i+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',e;if("listener"===i){if(d.helper.isUndefined(h.listeners))return e.valid=!1,e.error=g+'. Extensions of type "listener" must have a property called "listeners"',e}else if(d.helper.isUndefined(h.filter)&&d.helper.isUndefined(h.regex))return e.valid=!1,e.error=g+i+' extensions must define either a "regex" property or a "filter" method',e;if(h.listeners){if("object"!=typeof h.listeners)return e.valid=!1,e.error=g+'"listeners" property must be an object but '+typeof h.listeners+" given",e;for(var j in h.listeners)if(h.listeners.hasOwnProperty(j)&&"function"!=typeof h.listeners[j])return e.valid=!1,e.error=g+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+j+" must be a function but "+typeof h.listeners[j]+" given",e}if(h.filter){if("function"!=typeof h.filter)return e.valid=!1,e.error=g+'"filter" must be a function, but '+typeof h.filter+" given",e}else if(h.regex){if(d.helper.isString(h.regex)&&(h.regex=new RegExp(h.regex,"g")),!h.regex instanceof RegExp)return e.valid=!1,e.error=g+'"regex" property must either be a string or a RegExp object, but '+typeof h.regex+" given",e;if(d.helper.isUndefined(h.replace))return e.valid=!1,e.error=g+'"regex" extensions must implement a replace string or function',e}}return e}function c(a,b){"use strict";var c=b.charCodeAt(0);return"~E"+c+"E"}var d={},e={},f={},g=a(!0),h={github:{omitExtraWLInCodeBlocks:!0,prefixHeaderId:"user-content-",simplifiedAutoLink:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0},vanilla:a(!0)};d.helper={},d.extensions={},d.setOption=function(a,b){"use strict";return g[a]=b,this},d.getOption=function(a){"use strict";return g[a]},d.getOptions=function(){"use strict";return g},d.resetOptions=function(){"use strict";g=a(!0)},d.setFlavor=function(a){"use strict";if(h.hasOwnProperty(a)){var b=h[a];for(var c in b)b.hasOwnProperty(c)&&(g[c]=b[c])}},d.getDefaultOptions=function(b){"use strict";return a(b)},d.subParser=function(a,b){"use strict";if(d.helper.isString(a)){if("undefined"==typeof b){if(e.hasOwnProperty(a))return e[a];throw Error("SubParser named "+a+" not registered!")}e[a]=b}},d.extension=function(a,c){"use strict";if(!d.helper.isString(a))throw Error("Extension 'name' must be a string");if(a=d.helper.stdExtName(a),d.helper.isUndefined(c)){if(!f.hasOwnProperty(a))throw Error("Extension named "+a+" is not registered!");return f[a]}"function"==typeof c&&(c=c()),d.helper.isArray(c)||(c=[c]);var e=b(c,a);if(!e.valid)throw Error(e.error);f[a]=c},d.getAllExtensions=function(){"use strict";return f},d.removeExtension=function(a){"use strict";delete f[a]},d.resetExtensions=function(){"use strict";f={}},d.validateExtension=function(a){"use strict";var c=b(a,null);return c.valid?!0:(console.warn(c.error),!1)},d.hasOwnProperty("helper")||(d.helper={}),d.helper.isString=function(a){"use strict";return"string"==typeof a||a instanceof String},d.helper.forEach=function(a,b){"use strict";if("function"==typeof a.forEach)a.forEach(b);else for(var c=0;c<a.length;c++)b(a[c],c,a)},d.helper.isArray=function(a){"use strict";return a.constructor===Array},d.helper.isUndefined=function(a){"use strict";return"undefined"==typeof a},d.helper.stdExtName=function(a){"use strict";return a.replace(/[_-]||\s/g,"").toLowerCase()},d.helper.escapeCharactersCallback=c,d.helper.escapeCharacters=function(a,b,d){"use strict";var e="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";d&&(e="\\\\"+e);var f=new RegExp(e,"g");return a=a.replace(f,c)},d.helper.matchRecursiveRegExp=function(a,b,c,d){"use strict";var e,f,g,h,i,j=d||"",k=j.indexOf("g")>-1,l=new RegExp(b+"|"+c,j),m=new RegExp(b,j.replace(/g/g,"")),n=[];do for(e=0;g=l.exec(a);)if(m.test(g[0]))e++||(h=g[0],f=l.lastIndex);else if(e&&!--e){i=g[0];var o=a.slice(f,g.index);if(n.push([h+o+i,o]),!k)return n}while(e&&(l.lastIndex=f));return n},d.helper.isUndefined(console)&&(console={warn:function(a){"use strict";alert(a)},log:function(a){"use strict";alert(a)},error:function(a){"use strict";throw a}}),d.Converter=function(a){"use strict";function c(){a=a||{};for(var b in g)g.hasOwnProperty(b)&&(k[b]=g[b]);if("object"!=typeof a)throw Error("Converter expects the passed parameter to be an object, but "+typeof a+" was passed instead.");for(var c in a)a.hasOwnProperty(c)&&(k[c]=a[c]);k.extensions&&d.helper.forEach(k.extensions,e)}function e(a,c){if(c=c||null,d.helper.isString(a)){if(a=d.helper.stdExtName(a),c=a,d.extensions[a])return console.warn("DEPRECATION WARNING: "+a+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void i(d.extensions[a],a);if(d.helper.isUndefined(f[a]))throw Error('Extension "'+a+'" could not be loaded. It was either not found or is not a valid extension.');a=f[a]}"function"==typeof a&&(a=a()),d.helper.isArray(a)||(a=[a]);var e=b(a,c);if(!e.valid)throw Error(e.error);for(var g=0;g<a.length;++g){switch(a[g].type){case"lang":l.push(a[g]);break;case"output":m.push(a[g])}if(a[g].hasOwnProperty(n))for(var h in a[g].listeners)a[g].listeners.hasOwnProperty(h)&&j(h,a[g].listeners[h])}}function i(a,c){"function"==typeof a&&(a=a(new d.Converter)),d.helper.isArray(a)||(a=[a]);var e=b(a,c);if(!e.valid)throw Error(e.error);for(var f=0;f<a.length;++f)switch(a[f].type){case"lang":l.push(a[f]);break;case"output":m.push(a[f]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function j(a,b){if(!d.helper.isString(a))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof a+" given");if("function"!=typeof b)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof b+" given");n.hasOwnProperty(a)||(n[a]=[]),n[a].push(b)}var k={},l=[],m=[],n={};c(),this._dispatch=function(a,b,c){if(n.hasOwnProperty(a))for(var d=0;d<n[a].length;++d){var e=n[a][d](a,b,this,c);e&&"undefined"!=typeof e&&(b=e)}return b},this.listen=function(a,b){return j(a,b),this},this.makeHtml=function(a){if(!a)return a;var b={gHtmlBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:l,outputModifiers:m,converter:this};return a=a.replace(/~/g,"~T"),a=a.replace(/\$/g,"~D"),a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n"),a="\n\n"+a+"\n\n",a=d.subParser("detab")(a,k,b),a=d.subParser("stripBlankLines")(a,k,b),d.helper.forEach(l,function(c){a=d.subParser("runExtension")(c,a,k,b)}),a=d.subParser("githubCodeBlocks")(a,k,b),a=d.subParser("hashHTMLBlocks")(a,k,b),a=d.subParser("hashHTMLSpans")(a,k,b),a=d.subParser("stripLinkDefinitions")(a,k,b),a=d.subParser("blockGamut")(a,k,b),a=d.subParser("unhashHTMLSpans")(a,k,b),a=d.subParser("unescapeSpecialChars")(a,k,b),a=a.replace(/~D/g,"$$"),a=a.replace(/~T/g,"~"),d.helper.forEach(m,function(c){a=d.subParser("runExtension")(c,a,k,b)}),a},this.setOption=function(a,b){k[a]=b},this.getOption=function(a){return k[a]},this.getOptions=function(){return k},this.addExtension=function(a,b){b=b||null,e(a,b)},this.useExtension=function(a){e(a)},this.setFlavor=function(a){if(h.hasOwnProperty(a)){var b=h[a];for(var c in b)b.hasOwnProperty(c)&&(k[c]=b[c])}},this.removeExtension=function(a){d.helper.isArray(a)||(a=[a]);for(var b=0;b<a.length;++b){for(var c=a[b],e=0;e<l.length;++e)l[e]===c&&l[e].splice(e,1);for(var f=0;f<m.length;++e)m[f]===c&&m[f].splice(e,1)}},this.getAllExtensions=function(){return{language:l,output:m}}},d.subParser("anchors",function(a,b,c){"use strict";a=c.converter._dispatch("anchors.before",a,b);var e=function(a,b,e,f,g,h,i,j){d.helper.isUndefined(j)&&(j=""),a=b;var k=e,l=f.toLowerCase(),m=g,n=j;if(!m)if(l||(l=k.toLowerCase().replace(/ ?\n/g," ")),m="#"+l,d.helper.isUndefined(c.gUrls[l])){if(!(a.search(/\(\s*\)$/m)>-1))return a;m=""}else m=c.gUrls[l],d.helper.isUndefined(c.gTitles[l])||(n=c.gTitles[l]);m=d.helper.escapeCharacters(m,"*_",!1);var o='<a href="'+m+'"';return""!==n&&null!==n&&(n=n.replace(/"/g,"&quot;"),n=d.helper.escapeCharacters(n,"*_",!1),o+=' title="'+n+'"'),o+=">"+k+"</a>"};return a=a.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)][ ]?(?:\n[ ]*)?\[(.*?)])()()()()/g,e),a=a.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,e),a=a.replace(/(\[([^\[\]]+)])()()()()()/g,e),a=c.converter._dispatch("anchors.after",a,b)}),d.subParser("autoLinks",function(a,b,c){"use strict";function e(a,b){var c=d.subParser("unescapeSpecialChars")(b);return d.subParser("encodeEmailAddress")(c)}a=c.converter._dispatch("autoLinks.before",a,b);var f=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)(?=\s|$)(?!["<>])/gi,g=/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)>/gi,h=/(?:^|[ \n\t])([A-Za-z0-9!#$%&'*+-/=?^_`\{|}~\.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?:$|[ \n\t])/gi,i=/<(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi;return a=a.replace(g,'<a href="$1">$1</a>'),a=a.replace(i,e),b.simplifiedAutoLink&&(a=a.replace(f,'<a href="$1">$1</a>'),a=a.replace(h,e)),a=c.converter._dispatch("autoLinks.after",a,b)}),d.subParser("blockGamut",function(a,b,c){"use strict";a=c.converter._dispatch("blockGamut.before",a,b),a=d.subParser("blockQuotes")(a,b,c),a=d.subParser("headers")(a,b,c);var e=d.subParser("hashBlock")("<hr />",b,c);return a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,e),a=a.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,e),a=a.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,e),a=d.subParser("lists")(a,b,c),a=d.subParser("codeBlocks")(a,b,c),a=d.subParser("tables")(a,b,c),a=d.subParser("hashHTMLBlocks")(a,b,c),a=d.subParser("paragraphs")(a,b,c),a=c.converter._dispatch("blockGamut.after",a,b)}),d.subParser("blockQuotes",function(a,b,c){"use strict";return a=c.converter._dispatch("blockQuotes.before",a,b),a=a.replace(/((^[ \t]{0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,e){var f=e;return f=f.replace(/^[ \t]*>[ \t]?/gm,"~0"),f=f.replace(/~0/g,""),f=f.replace(/^[ \t]+$/gm,""),f=d.subParser("githubCodeBlocks")(f,b,c),f=d.subParser("blockGamut")(f,b,c),f=f.replace(/(^|\n)/g,"$1  "),f=f.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c=b;return c=c.replace(/^  /gm,"~0"),c=c.replace(/~0/g,"")}),d.subParser("hashBlock")("<blockquote>\n"+f+"\n</blockquote>",b,c)}),a=c.converter._dispatch("blockQuotes.after",a,b)}),d.subParser("codeBlocks",function(a,b,c){"use strict";a=c.converter._dispatch("codeBlocks.before",a,b),a+="~0";var e=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g;return a=a.replace(e,function(a,e,f){var g=e,h=f,i="\n";return g=d.subParser("outdent")(g),g=d.subParser("encodeCode")(g),g=d.subParser("detab")(g),g=g.replace(/^\n+/g,""),g=g.replace(/\n+$/g,""),b.omitExtraWLInCodeBlocks&&(i=""),g="<pre><code>"+g+i+"</code></pre>",d.subParser("hashBlock")(g,b,c)+h}),a=a.replace(/~0/,""),a=c.converter._dispatch("codeBlocks.after",a,b)}),d.subParser("codeSpans",function(a,b,c){"use strict";return a=c.converter._dispatch("codeSpans.before",a,b),a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,b,c,e){var f=e;return f=f.replace(/^([ \t]*)/g,""),f=f.replace(/[ \t]*$/g,""),f=d.subParser("encodeCode")(f),b+"<code>"+f+"</code>"}),a=c.converter._dispatch("codeSpans.after",a,b)}),d.subParser("detab",function(a){"use strict";return a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"~A~B"),a=a.replace(/~B(.+?)~A/g,function(a,b){for(var c=b,d=4-c.length%4,e=0;d>e;e++)c+=" ";return c}),a=a.replace(/~A/g,"    "),a=a.replace(/~B/g,"")}),d.subParser("encodeAmpsAndAngles",function(a){"use strict";return a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?\$!])/gi,"&lt;")}),d.subParser("encodeBackslashEscapes",function(a){"use strict";return a=a.replace(/\\(\\)/g,d.helper.escapeCharactersCallback),a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,d.helper.escapeCharactersCallback)}),d.subParser("encodeCode",function(a){"use strict";return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=d.helper.escapeCharacters(a,"*_{}[]\\",!1)}),d.subParser("encodeEmailAddress",function(a){"use strict";var b=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+a.charCodeAt(0).toString(16)+";"},function(a){return a}];return a="mailto:"+a,a=a.replace(/./g,function(a){if("@"===a)a=b[Math.floor(2*Math.random())](a);else if(":"!==a){var c=Math.random();a=c>.9?b[2](a):c>.45?b[1](a):b[0](a)}return a}),a='<a href="'+a+'">'+a+"</a>",a=a.replace(/">.+:/g,'">')}),d.subParser("escapeSpecialCharsWithinTagAttributes",function(a){"use strict";var b=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return a=a.replace(b,function(a){var b=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return b=d.helper.escapeCharacters(b,"\\`*_",!1)})}),d.subParser("githubCodeBlocks",function(a,b,c){"use strict";return b.ghCodeBlocks?(a=c.converter._dispatch("githubCodeBlocks.before",a,b),a+="~0",a=a.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(a,e,f){var g=b.omitExtraWLInCodeBlocks?"":"\n";return f=d.subParser("encodeCode")(f),f=d.subParser("detab")(f),f=f.replace(/^\n+/g,""),f=f.replace(/\n+$/g,""),f="<pre><code"+(e?' class="'+e+" language-"+e+'"':"")+">"+f+g+"</code></pre>",d.subParser("hashBlock")(f,b,c)}),a=a.replace(/~0/,""),a=c.converter._dispatch("githubCodeBlocks.after",a,b)):a}),d.subParser("hashBlock",function(a,b,c){"use strict";return a=a.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(c.gHtmlBlocks.push(a)-1)+"K\n\n"}),d.subParser("hashElement",function(a,b,c){"use strict";return function(a,b){var d=b;return d=d.replace(/\n\n/g,"\n"),d=d.replace(/^\n/,""),d=d.replace(/\n+$/g,""),d="\n\n~K"+(c.gHtmlBlocks.push(d)-1)+"K\n\n"}}),d.subParser("hashHTMLBlocks",function(a,b,c){"use strict";return a=a.replace(/\n/g,"\n\n"),a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,d.subParser("hashElement")(a,b,c)),a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside|address|audio|canvas|figure|hgroup|output|video)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,d.subParser("hashElement")(a,b,c)),a=a.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,d.subParser("hashElement")(a,b,c)),a=a.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,d.subParser("hashElement")(a,b,c)),a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,d.subParser("hashElement")(a,b,c)),a=a.replace(/\n\n/g,"\n")}),d.subParser("hashHTMLSpans",function(a,b,c){"use strict";for(var e=d.helper.matchRecursiveRegExp(a,"<code\\b[^>]*>","</code>","gi"),f=0;f<e.length;++f)a=a.replace(e[f][0],"~L"+(c.gHtmlSpans.push(e[f][0])-1)+"L");return a}),d.subParser("unhashHTMLSpans",function(a,b,c){"use strict";for(var d=0;d<c.gHtmlSpans.length;++d)a=a.replace("~L"+d+"L",c.gHtmlSpans[d]);return a}),d.subParser("headers",function(a,b,c){"use strict";function e(a){var b,e=a.replace(/[^\w]/g,"").toLowerCase();return c.hashLinkCounts[e]?b=e+"-"+c.hashLinkCounts[e]++:(b=e,c.hashLinkCounts[e]=1),f===!0&&(f="section"),d.helper.isString(f)?f+b:b}a=c.converter._dispatch("headers.before",a,b);var f=b.prefixHeaderId,g=isNaN(parseInt(b.headerLevelStart))?1:parseInt(b.headerLevelStart),h=b.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,i=b.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;return a=a.replace(h,function(a,f){var h=d.subParser("spanGamut")(f,b,c),i=b.noHeaderId?"":' id="'+e(f)+'"',j=g,k="<h"+j+i+">"+h+"</h"+j+">";return d.subParser("hashBlock")(k,b,c)}),a=a.replace(i,function(a,f){var h=d.subParser("spanGamut")(f,b,c),i=b.noHeaderId?"":' id="'+e(f)+'"',j=g+1,k="<h"+j+i+">"+h+"</h"+j+">";return d.subParser("hashBlock")(k,b,c)}),a=a.replace(/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(a,f,h){var i=d.subParser("spanGamut")(h,b,c),j=b.noHeaderId?"":' id="'+e(h)+'"',k=g-1+f.length,l="<h"+k+j+">"+i+"</h"+k+">";return d.subParser("hashBlock")(l,b,c)}),a=c.converter._dispatch("headers.after",a,b)}),d.subParser("images",function(a,b,c){"use strict";function e(a,b,e,f,g,h,i,j){var k=c.gUrls,l=c.gTitles,m=c.gDimensions;if(e=e.toLowerCase(),j||(j=""),""===f||null===f){if((""===e||null===e)&&(e=b.toLowerCase().replace(/ ?\n/g," ")),f="#"+e,d.helper.isUndefined(k[e]))return a;f=k[e],d.helper.isUndefined(l[e])||(j=l[e]),d.helper.isUndefined(m[e])||(g=m[e].width,h=m[e].height)}b=b.replace(/"/g,"&quot;"),b=d.helper.escapeCharacters(b,"*_",!1),f=d.helper.escapeCharacters(f,"*_",!1);var n='<img src="'+f+'" alt="'+b+'"';return j&&(j=j.replace(/"/g,"&quot;"),j=d.helper.escapeCharacters(j,"*_",!1),n+=' title="'+j+'"'),g&&h&&(g="*"===g?"auto":g,h="*"===h?"auto":h,n+=' width="'+g+'"',n+=' height="'+h+'"'),n+=" />"}a=c.converter._dispatch("images.before",a,b);var f=/!\[(.*?)]\s?\([ \t]*()<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\)/g,g=/!\[(.*?)][ ]?(?:\n[ ]*)?\[(.*?)]()()()()()/g;return a=a.replace(g,e),a=a.replace(f,e),a=c.converter._dispatch("images.after",a,b)}),d.subParser("italicsAndBold",function(a,b,c){"use strict";return a=c.converter._dispatch("italicsAndBold.before",a,b),b.literalMidWordUnderscores?(a=a.replace(/(^|\s|>|\b)__(?=\S)([^]+?)__(?=\b|<|\s|$)/gm,"$1<strong>$2</strong>"),a=a.replace(/(^|\s|>|\b)_(?=\S)([^]+?)_(?=\b|<|\s|$)/gm,"$1<em>$2</em>"),a=a.replace(/(\*\*)(?=\S)([^\r]*?\S[*]*)\1/g,"<strong>$2</strong>"),a=a.replace(/(\*)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")):(a=a.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),a=a.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")),a=c.converter._dispatch("italicsAndBold.after",a,b)}),d.subParser("lists",function(a,b,c){"use strict";function e(a,e){c.gListLevel++,a=a.replace(/\n{2,}$/,"\n"),a+="~0";var f=/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+((\[(x| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,g=/\n[ \t]*\n(?!~0)/.test(a);return a=a.replace(f,function(a,e,f,h,i,j,k){k=k&&""!==k.trim();var l=d.subParser("outdent")(i,b,c),m="";return j&&b.tasklists&&(m=' class="task-list-item" style="list-style-type: none;"',l=l.replace(/^[ \t]*\[(x| )?]/m,function(){var a='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return k&&(a+=" checked"),a+=">"})),e||l.search(/\n{2,}/)>-1?(l=d.subParser("githubCodeBlocks")(l,b,c),l=d.subParser("blockGamut")(l,b,c)):(l=d.subParser("lists")(l,b,c),l=l.replace(/\n$/,""),l=g?d.subParser("paragraphs")(l,b,c):d.subParser("spanGamut")(l,b,c)),l="\n<li"+m+">"+l+"</li>\n"}),a=a.replace(/~0/g,""),c.gListLevel--,e&&(a=a.replace(/\s+$/,"")),a}function f(a,b,c){var d="ul"===b?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,f=[],g="";if(-1!==a.search(d)){!function i(a){var f=a.search(d);-1!==f?(g+="\n\n<"+b+">"+e(a.slice(0,f),!!c)+"</"+b+">\n\n",b="ul"===b?"ol":"ul",d="ul"===b?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,i(a.slice(f))):g+="\n\n<"+b+">"+e(a,!!c)+"</"+b+">\n\n"}(a);for(var h=0;h<f.length;++h);}else g="\n\n<"+b+">"+e(a,!!c)+"</"+b+">\n\n";return g}a=c.converter._dispatch("lists.before",a,b),a+="~0";var g=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return c.gListLevel?a=a.replace(g,function(a,b,c){var d=c.search(/[*+-]/g)>-1?"ul":"ol";return f(b,d,!0)}):(g=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,a=a.replace(g,function(a,b,c,d){var e=d.search(/[*+-]/g)>-1?"ul":"ol";return f(c,e)})),a=a.replace(/~0/,""),a=c.converter._dispatch("lists.after",a,b)}),d.subParser("outdent",function(a){"use strict";return a=a.replace(/^(\t|[ ]{1,4})/gm,"~0"),a=a.replace(/~0/g,"")}),d.subParser("paragraphs",function(a,b,c){"use strict";a=c.converter._dispatch("paragraphs.before",a,b),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");for(var e=a.split(/\n{2,}/g),f=[],g=e.length,h=0;g>h;h++){var i=e[h];i.search(/~K(\d+)K/g)>=0?f.push(i):i.search(/\S/)>=0&&(i=d.subParser("spanGamut")(i,b,c),i=i.replace(/^([ \t]*)/g,"<p>"),i+="</p>",f.push(i))}for(g=f.length,h=0;g>h;h++)for(;f[h].search(/~K(\d+)K/)>=0;){var j=c.gHtmlBlocks[RegExp.$1];j=j.replace(/\$/g,"$$$$"),f[h]=f[h].replace(/~K\d+K/,j)}return a=c.converter._dispatch("paragraphs.after",a,b),f.join("\n\n")}),d.subParser("runExtension",function(a,b,c,d){"use strict";if(a.filter)b=a.filter(b,d.converter,c);else if(a.regex){var e=a.regex;!e instanceof RegExp&&(e=new RegExp(e,"g")),b=b.replace(e,a.replace)}return b}),d.subParser("spanGamut",function(a,b,c){"use strict";return a=c.converter._dispatch("spanGamut.before",a,b),a=d.subParser("codeSpans")(a,b,c),a=d.subParser("escapeSpecialCharsWithinTagAttributes")(a,b,c),a=d.subParser("encodeBackslashEscapes")(a,b,c),a=d.subParser("images")(a,b,c),a=d.subParser("anchors")(a,b,c),a=d.subParser("autoLinks")(a,b,c),a=d.subParser("encodeAmpsAndAngles")(a,b,c),a=d.subParser("italicsAndBold")(a,b,c),a=d.subParser("strikethrough")(a,b,c),a=a.replace(/  +\n/g," <br />\n"),a=c.converter._dispatch("spanGamut.after",a,b)}),d.subParser("strikethrough",function(a,b,c){"use strict";return b.strikethrough&&(a=c.converter._dispatch("strikethrough.before",a,b),a=a.replace(/(?:~T){2}([^~]+)(?:~T){2}/g,"<del>$1</del>"),a=c.converter._dispatch("strikethrough.after",a,b)),a}),d.subParser("stripBlankLines",function(a){"use strict";return a.replace(/^[ \t]+$/gm,"")}),d.subParser("stripLinkDefinitions",function(a,b,c){"use strict";var e=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=~0))/gm;return a+="~0",a=a.replace(e,function(a,e,f,g,h,i,j){return e=e.toLowerCase(),c.gUrls[e]=d.subParser("encodeAmpsAndAngles")(f),i?i+j:(j&&(c.gTitles[e]=j.replace(/"|'/g,"&quot;")),b.parseImgDimensions&&g&&h&&(c.gDimensions[e]={width:g,height:h}),"")}),a=a.replace(/~0/,"")}),d.subParser("tables",function(a,b,c){"use strict";var e=function(){var a,e={};return e.th=function(a,e){var f="";return a=a.trim(),""===a?"":(b.tableHeaderId&&(f=' id="'+a.replace(/ /g,"_").toLowerCase()+'"'),a=d.subParser("spanGamut")(a,b,c),e=e&&""!==e.trim()?' style="'+e+'"':"","<th"+f+e+">"+a+"</th>")},e.td=function(a,e){var f=d.subParser("spanGamut")(a.trim(),b,c);return e=e&&""!==e.trim()?' style="'+e+'"':"","<td"+e+">"+f+"</td>"},e.ths=function(){var a="",b=0,c=[].slice.apply(arguments[0]),d=[].slice.apply(arguments[1]);for(b;b<c.length;b+=1)a+=e.th(c[b],d[b])+"\n";return a},e.tds=function(){var a="",b=0,c=[].slice.apply(arguments[0]),d=[].slice.apply(arguments[1]);for(b;b<c.length;b+=1)a+=e.td(c[b],d[b])+"\n";return a},e.thead=function(){var a,b=[].slice.apply(arguments[0]),c=[].slice.apply(arguments[1]);return a="<thead>\n",a+="<tr>\n",a+=e.ths.apply(this,[b,c]),a+="</tr>\n",a+="</thead>\n"},e.tr=function(){var a,b=[].slice.apply(arguments[0]),c=[].slice.apply(arguments[1]);return a="<tr>\n",a+=e.tds.apply(this,[b,c]),a+="</tr>\n"},a=function(a){var b,c,d=0,f=a.split("\n"),g=[];for(d;d<f.length;d+=1){if(b=f[d],b.trim().match(/^[|].*[|]$/)){b=b.trim();var h=[],i=f[d+1].trim(),j=[],k=0;if(i.match(/^[|][-=|: ]+[|]$/))for(j=i.substring(1,i.length-1).split("|"),k=0;k<j.length;++k)j[k]=j[k].trim(),j[k].match(/^[:][-=| ]+[:]$/)?j[k]="text-align:center;":j[k].match(/^[-=| ]+[:]$/)?j[k]="text-align:right;":j[k].match(/^[:][-=| ]+$/)?j[k]="text-align:left;":j[k]="";if(h.push("<table>"),c=b.substring(1,b.length-1).split("|"),0===j.length)for(k=0;k<c.length;++k)j.push("text-align:left");if(h.push(e.thead.apply(this,[c,j])),b=f[++d],b.trim().match(/^[|][-=|: ]+[|]$/)){for(b=f[++d],h.push("<tbody>");b.trim().match(/^[|].*[|]$/);)b=b.trim(),h.push(e.tr.apply(this,[b.substring(1,b.length-1).split("|"),j])),b=f[++d];h.push("</tbody>"),h.push("</table>"),g.push(h.join("\n"));continue}b=f[--d]}g.push(b)}return g.join("\n")},{parse:a}};if(b.tables){a=c.converter._dispatch("tables.before",a,b);var f=e();a=f.parse(a),a=c.converter._dispatch("tables.after",a,b)}return a}),d.subParser("unescapeSpecialChars",function(a){"use strict";return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)})});var i=this;"undefined"!=typeof module&&module.exports?module.exports=d:"function"==typeof define&&define.amd?define("showdown",function(){"use strict";return d}):i.showdown=d}.call(this),function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",
j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","colspan","align","valign"],tfoot:["align","valign"],th:["width","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}function e(a,b,c){}function f(a,b,c){}function g(a,b,c){}function h(a,b,c){}function i(a){return a.replace(y,"&lt;").replace(z,"&gt;")}function j(a,b,c,d){if(d=d||x,c=p(c),"href"===b||"src"===b){if(c=w.trim(c),"#"===c)return"#";if("http://"!==c.substr(0,7)&&"https://"!==c.substr(0,8)&&"mailto:"!==c.substr(0,7)&&"#"!==c[0]&&"/"!==c[0])return""}else if("background"===b){if(F.lastIndex=0,F.test(c))return""}else if("style"===b){if(G.lastIndex=0,G.test(c))return"";if(H.lastIndex=0,H.test(c)&&(F.lastIndex=0,F.test(c)))return"";c=d.process(c)}return c=q(c)}function k(a){return a.replace(A,"&quot;")}function l(a){return a.replace(B,'"')}function m(a){return a.replace(C,function(a,b){return"x"===b[0]||"X"===b[0]?String.fromCharCode(parseInt(b.substr(1),16)):String.fromCharCode(parseInt(b,10))})}function n(a){return a.replace(D,":").replace(E," ")}function o(a){for(var b="",c=0,d=a.length;d>c;c++)b+=a.charCodeAt(c)<32?" ":a.charAt(c);return w.trim(b)}function p(a){return a=l(a),a=m(a),a=n(a),a=o(a)}function q(a){return a=k(a),a=i(a)}function r(){return""}function s(a,b){function c(b){return d?!0:-1!==w.indexOf(a,b)}"function"!=typeof b&&(b=function(){});var d=!Array.isArray(a),e=[],f=!1;return{onIgnoreTag:function(a,d,g){if(c(a)){if(g.isClosing){var h="[/removed]",i=g.position+h.length;return e.push([f!==!1?f:g.position,i]),f=!1,h}return f||(f=g.position),"[removed]"}return b(a,d,g)},remove:function(a){var b="",c=0;return w.forEach(e,function(d){b+=a.slice(c,d[0]),c=d[1]}),b+=a.slice(c)}}}function t(a){return a.replace(I,"")}function u(a){var b=a.split("");return b=b.filter(function(a){var b=a.charCodeAt(0);return 127===b?!1:31>=b?10===b||13===b?!0:!1:!0}),b.join("")}var v=a("cssfilter").FilterCSS,w=a("./util"),x=new v,y=/</g,z=/>/g,A=/"/g,B=/&quot;/g,C=/&#([a-zA-Z0-9]*);?/gim,D=/&colon;?/gim,E=/&newline;?/gim,F=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,G=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,H=/u\s*r\s*l\s*\(.*/gi,I=/<!--[\s\S]*?-->/g;c.whiteList=d(),c.getDefaultWhiteList=d,c.onTag=e,c.onIgnoreTag=f,c.onTagAttr=g,c.onIgnoreTagAttr=h,c.safeAttrValue=j,c.escapeHtml=i,c.escapeQuote=k,c.unescapeQuote=l,c.escapeHtmlEntities=m,c.escapeDangerHtml5Entities=n,c.clearNonPrintableCharacter=o,c.friendlyAttrValue=p,c.escapeAttrValue=q,c.onIgnoreTagStripAll=r,c.StripTagBody=s,c.stripCommentTag=t,c.stripBlankChar=u,c.cssFilter=x},{"./util":4,cssfilter:8}],2:[function(a,b,c){function d(a,b){var c=new g(b);return c.process(a)}var e=a("./default"),f=a("./parser"),g=a("./xss");c=b.exports=d,c.FilterXSS=g;for(var h in e)c[h]=e[h];for(var h in f)c[h]=f[h];"function"==typeof define&&define.amd&&define(function(){return b.exports}),"undefined"!=typeof window&&(window.filterXSS=b.exports)},{"./default":1,"./parser":3,"./xss":5}],3:[function(a,b,c){function d(a){var b=a.indexOf(" ");if(-1===b)var c=a.slice(1,-1);else var c=a.slice(1,b+1);return c=l.trim(c).toLowerCase(),"/"===c.slice(0,1)&&(c=c.slice(1)),"/"===c.slice(-1)&&(c=c.slice(0,-1)),c}function e(a){return"</"===a.slice(0,2)}function f(a,b,c){"user strict";var f="",g=0,h=!1,i=!1,j=0,k=a.length,l="",m="";for(j=0;k>j;j++){var n=a.charAt(j);if(h===!1){if("<"===n){h=j;continue}}else if(i===!1){if("<"===n){f+=c(a.slice(g,j)),h=j,g=j;continue}if(">"===n){f+=c(a.slice(g,h)),l=a.slice(h,j+1),m=d(l),f+=b(h,f.length,m,l,e(l)),g=j+1,h=!1;continue}if(('"'===n||"'"===n)&&"="===a.charAt(j-1)){i=n;continue}}else if(n===i){i=!1;continue}}return g<a.length&&(f+=c(a.substr(g))),f}function g(a,b){"user strict";function c(a,c){if(a=l.trim(a),a=a.replace(m,"").toLowerCase(),!(a.length<1)){var d=b(a,c||"");d&&e.push(d)}}for(var d=0,e=[],f=!1,g=a.length,j=0;g>j;j++){var n,o,p=a.charAt(j);if(f!==!1||"="!==p)if(f===!1||j!==d||'"'!==p&&"'"!==p||"="!==a.charAt(j-1))if(" "!==p);else{if(f===!1){if(o=h(a,j),-1===o){n=l.trim(a.slice(d,j)),c(n),f=!1,d=j+1;continue}j=o-1;continue}if(o=i(a,j-1),-1===o){n=l.trim(a.slice(d,j)),n=k(n),c(f,n),f=!1,d=j+1;continue}}else{if(o=a.indexOf(p,j+1),-1===o)break;n=l.trim(a.slice(d+1,o)),c(f,n),f=!1,j=o,d=j+1}else f=a.slice(d,j),d=j+1}return d<a.length&&(f===!1?c(a.slice(d)):c(f,k(l.trim(a.slice(d))))),l.trim(e.join(" "))}function h(a,b){for(;b<a.length;b++){var c=a[b];if(" "!==c)return"="===c?b:-1}}function i(a,b){for(;b>0;b--){var c=a[b];if(" "!==c)return"="===c?b:-1}}function j(a){return'"'===a[0]&&'"'===a[a.length-1]||"'"===a[0]&&"'"===a[a.length-1]?!0:!1}function k(a){return j(a)?a.substr(1,a.length-2):a}var l=a("./util"),m=/[^a-zA-Z0-9_:\.\-]/gim;c.parseTag=f,c.parseAttr=g},{"./util":4}],4:[function(a,b,c){b.exports={indexOf:function(a,b){var c,d;if(Array.prototype.indexOf)return a.indexOf(b);for(c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},forEach:function(a,b,c){var d,e;if(Array.prototype.forEach)return a.forEach(b,c);for(d=0,e=a.length;e>d;d++)b.call(c,a[d],d,a)},trim:function(a){return String.prototype.trim?a.trim():a.replace(/(^\s*)|(\s*$)/g,"")}}},{}],5:[function(a,b,c){function d(a){return void 0===a||null===a}function e(a){var b=a.indexOf(" ");if(-1===b)return{html:"",closing:"/"===a[a.length-2]};a=l.trim(a.slice(b+1,-1));var c="/"===a[a.length-1];return c&&(a=l.trim(a.slice(0,-1))),{html:a,closing:c}}function f(a){a=a||{},a.stripIgnoreTag&&(a.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),a.onIgnoreTag=h.onIgnoreTagStripAll),a.whiteList=a.whiteList||h.whiteList,a.onTag=a.onTag||h.onTag,a.onTagAttr=a.onTagAttr||h.onTagAttr,a.onIgnoreTag=a.onIgnoreTag||h.onIgnoreTag,a.onIgnoreTagAttr=a.onIgnoreTagAttr||h.onIgnoreTagAttr,a.safeAttrValue=a.safeAttrValue||h.safeAttrValue,a.escapeHtml=a.escapeHtml||h.escapeHtml,a.css=a.css||{},this.options=a,this.cssFilter=new g(a.css)}var g=a("cssfilter").FilterCSS,h=a("./default"),i=a("./parser"),j=i.parseTag,k=i.parseAttr,l=a("./util");f.prototype.process=function(a){if(a=a||"",a=a.toString(),!a)return"";var b=this,c=b.options,f=c.whiteList,g=c.onTag,i=c.onIgnoreTag,m=c.onTagAttr,n=c.onIgnoreTagAttr,o=c.safeAttrValue,p=c.escapeHtml,q=b.cssFilter;c.stripBlankChar&&(a=h.stripBlankChar(a)),c.allowCommentTag||(a=h.stripCommentTag(a));var r=!1;if(c.stripIgnoreTagBody){var r=h.StripTagBody(c.stripIgnoreTagBody,i);i=r.onIgnoreTag}var s=j(a,function(a,b,c,h,j){var r={sourcePosition:a,position:b,isClosing:j,isWhite:c in f},s=g(c,h,r);if(!d(s))return s;if(r.isWhite){if(r.isClosing)return"</"+c+">";var t=e(h),u=f[c],v=k(t.html,function(a,b){var e=-1!==l.indexOf(u,a),f=m(c,a,b,e);if(!d(f))return f;if(e)return b=o(c,a,b,q),b?a+'="'+b+'"':a;var f=n(c,a,b,e);return d(f)?void 0:f}),h="<"+c;return v&&(h+=" "+v),t.closing&&(h+=" /"),h+=">"}var s=i(c,h,r);return d(s)?p(h):s},p);return r&&(s=r.remove(s)),s},b.exports=f},{"./default":1,"./parser":3,"./util":4,cssfilter:8}],6:[function(a,b,c){function d(a){return void 0===a||null===a}function e(a){a=a||{},a.whiteList=a.whiteList||f.whiteList,a.onAttr=a.onAttr||f.onAttr,a.onIgnoreAttr=a.onIgnoreAttr||f.onIgnoreAttr,this.options=a}var f=a("./default"),g=a("./parser");a("./util");e.prototype.process=function(a){if(a=a||"",a=a.toString(),!a)return"";var b=this,c=b.options,e=c.whiteList,f=c.onAttr,h=c.onIgnoreAttr,i=g(a,function(a,b,c,g,i){var j=e[c],k=!1;j===!0?k=j:"function"==typeof j?k=j(g):j instanceof RegExp&&(k=j.test(g)),k!==!0&&(k=!1);var l={position:b,sourcePosition:a,source:i,isWhite:k};if(k){var m=f(c,g,l);return d(m)?c+":"+g:m}var m=h(c,g,l);return d(m)?void 0:m});return i},b.exports=e},{"./default":7,"./parser":9,"./util":10}],7:[function(a,b,c){function d(){var a={};return a["align-content"]=!1,a["align-items"]=!1,a["align-self"]=!1,a["alignment-adjust"]=!1,a["alignment-baseline"]=!1,a.all=!1,a["anchor-point"]=!1,a.animation=!1,a["animation-delay"]=!1,a["animation-direction"]=!1,a["animation-duration"]=!1,a["animation-fill-mode"]=!1,a["animation-iteration-count"]=!1,a["animation-name"]=!1,a["animation-play-state"]=!1,a["animation-timing-function"]=!1,a.azimuth=!1,a["backface-visibility"]=!1,a.background=!0,a["background-attachment"]=!0,a["background-clip"]=!0,a["background-color"]=!0,a["background-image"]=!0,a["background-origin"]=!0,a["background-position"]=!0,a["background-repeat"]=!0,a["background-size"]=!0,a["baseline-shift"]=!1,a.binding=!1,a.bleed=!1,a["bookmark-label"]=!1,a["bookmark-level"]=!1,a["bookmark-state"]=!1,a.border=!0,a["border-bottom"]=!0,a["border-bottom-color"]=!0,a["border-bottom-left-radius"]=!0,a["border-bottom-right-radius"]=!0,a["border-bottom-style"]=!0,a["border-bottom-width"]=!0,a["border-collapse"]=!0,a["border-color"]=!0,a["border-image"]=!0,a["border-image-outset"]=!0,a["border-image-repeat"]=!0,a["border-image-slice"]=!0,a["border-image-source"]=!0,a["border-image-width"]=!0,a["border-left"]=!0,a["border-left-color"]=!0,a["border-left-style"]=!0,a["border-left-width"]=!0,a["border-radius"]=!0,a["border-right"]=!0,a["border-right-color"]=!0,a["border-right-style"]=!0,a["border-right-width"]=!0,a["border-spacing"]=!0,a["border-style"]=!0,a["border-top"]=!0,a["border-top-color"]=!0,a["border-top-left-radius"]=!0,a["border-top-right-radius"]=!0,a["border-top-style"]=!0,a["border-top-width"]=!0,a["border-width"]=!0,a.bottom=!1,a["box-decoration-break"]=!0,a["box-shadow"]=!0,a["box-sizing"]=!0,a["box-snap"]=!0,a["box-suppress"]=!0,a["break-after"]=!0,a["break-before"]=!0,a["break-inside"]=!0,a["caption-side"]=!1,a.chains=!1,a.clear=!0,a.clip=!1,a["clip-path"]=!1,a["clip-rule"]=!1,a.color=!0,a["color-interpolation-filters"]=!0,a["column-count"]=!1,a["column-fill"]=!1,a["column-gap"]=!1,a["column-rule"]=!1,a["column-rule-color"]=!1,a["column-rule-style"]=!1,a["column-rule-width"]=!1,a["column-span"]=!1,a["column-width"]=!1,a.columns=!1,a.contain=!1,a.content=!1,a["counter-increment"]=!1,a["counter-reset"]=!1,a["counter-set"]=!1,a.crop=!1,a.cue=!1,a["cue-after"]=!1,a["cue-before"]=!1,a.cursor=!1,a.direction=!1,a.display=!0,a["display-inside"]=!0,a["display-list"]=!0,a["display-outside"]=!0,a["dominant-baseline"]=!1,a.elevation=!1,a["empty-cells"]=!1,a.filter=!1,a.flex=!1,a["flex-basis"]=!1,a["flex-direction"]=!1,a["flex-flow"]=!1,a["flex-grow"]=!1,a["flex-shrink"]=!1,a["flex-wrap"]=!1,a["float"]=!1,a["float-offset"]=!1,a["flood-color"]=!1,a["flood-opacity"]=!1,a["flow-from"]=!1,a["flow-into"]=!1,a.font=!0,a["font-family"]=!0,a["font-feature-settings"]=!0,a["font-kerning"]=!0,a["font-language-override"]=!0,a["font-size"]=!0,a["font-size-adjust"]=!0,a["font-stretch"]=!0,a["font-style"]=!0,a["font-synthesis"]=!0,a["font-variant"]=!0,a["font-variant-alternates"]=!0,a["font-variant-caps"]=!0,a["font-variant-east-asian"]=!0,a["font-variant-ligatures"]=!0,a["font-variant-numeric"]=!0,a["font-variant-position"]=!0,a["font-weight"]=!0,a.grid=!1,a["grid-area"]=!1,a["grid-auto-columns"]=!1,a["grid-auto-flow"]=!1,a["grid-auto-rows"]=!1,a["grid-column"]=!1,a["grid-column-end"]=!1,a["grid-column-start"]=!1,a["grid-row"]=!1,a["grid-row-end"]=!1,a["grid-row-start"]=!1,a["grid-template"]=!1,a["grid-template-areas"]=!1,a["grid-template-columns"]=!1,a["grid-template-rows"]=!1,a["hanging-punctuation"]=!1,a.height=!0,a.hyphens=!1,a.icon=!1,a["image-orientation"]=!1,a["image-resolution"]=!1,a["ime-mode"]=!1,a["initial-letters"]=!1,a["inline-box-align"]=!1,a["justify-content"]=!1,a["justify-items"]=!1,a["justify-self"]=!1,a.left=!1,a["letter-spacing"]=!0,a["lighting-color"]=!0,a["line-box-contain"]=!1,a["line-break"]=!1,a["line-grid"]=!1,a["line-height"]=!1,a["line-snap"]=!1,a["line-stacking"]=!1,a["line-stacking-ruby"]=!1,a["line-stacking-shift"]=!1,a["line-stacking-strategy"]=!1,a["list-style"]=!0,a["list-style-image"]=!0,a["list-style-position"]=!0,a["list-style-type"]=!0,a.margin=!0,a["margin-bottom"]=!0,a["margin-left"]=!0,a["margin-right"]=!0,a["margin-top"]=!0,a["marker-offset"]=!1,a["marker-side"]=!1,a.marks=!1,a.mask=!1,a["mask-box"]=!1,a["mask-box-outset"]=!1,a["mask-box-repeat"]=!1,a["mask-box-slice"]=!1,a["mask-box-source"]=!1,a["mask-box-width"]=!1,a["mask-clip"]=!1,a["mask-image"]=!1,a["mask-origin"]=!1,a["mask-position"]=!1,a["mask-repeat"]=!1,a["mask-size"]=!1,a["mask-source-type"]=!1,a["mask-type"]=!1,a["max-height"]=!0,a["max-lines"]=!1,a["max-width"]=!0,a["min-height"]=!0,a["min-width"]=!0,a["move-to"]=!1,a["nav-down"]=!1,a["nav-index"]=!1,a["nav-left"]=!1,a["nav-right"]=!1,a["nav-up"]=!1,a["object-fit"]=!1,a["object-position"]=!1,a.opacity=!1,a.order=!1,a.orphans=!1,a.outline=!1,a["outline-color"]=!1,a["outline-offset"]=!1,a["outline-style"]=!1,a["outline-width"]=!1,a.overflow=!1,a["overflow-wrap"]=!1,a["overflow-x"]=!1,a["overflow-y"]=!1,a.padding=!0,a["padding-bottom"]=!0,a["padding-left"]=!0,a["padding-right"]=!0,a["padding-top"]=!0,a.page=!1,a["page-break-after"]=!1,a["page-break-before"]=!1,a["page-break-inside"]=!1,a["page-policy"]=!1,a.pause=!1,a["pause-after"]=!1,a["pause-before"]=!1,a.perspective=!1,a["perspective-origin"]=!1,a.pitch=!1,a["pitch-range"]=!1,a["play-during"]=!1,a.position=!1,a["presentation-level"]=!1,a.quotes=!1,a["region-fragment"]=!1,a.resize=!1,a.rest=!1,a["rest-after"]=!1,a["rest-before"]=!1,a.richness=!1,a.right=!1,a.rotation=!1,a["rotation-point"]=!1,a["ruby-align"]=!1,a["ruby-merge"]=!1,a["ruby-position"]=!1,a["shape-image-threshold"]=!1,a["shape-outside"]=!1,a["shape-margin"]=!1,a.size=!1,a.speak=!1,a["speak-as"]=!1,a["speak-header"]=!1,a["speak-numeral"]=!1,a["speak-punctuation"]=!1,a["speech-rate"]=!1,a.stress=!1,a["string-set"]=!1,a["tab-size"]=!1,a["table-layout"]=!1,a["text-align"]=!0,a["text-align-last"]=!0,a["text-combine-upright"]=!0,a["text-decoration"]=!0,a["text-decoration-color"]=!0,a["text-decoration-line"]=!0,a["text-decoration-skip"]=!0,a["text-decoration-style"]=!0,a["text-emphasis"]=!0,a["text-emphasis-color"]=!0,a["text-emphasis-position"]=!0,a["text-emphasis-style"]=!0,a["text-height"]=!0,a["text-indent"]=!0,a["text-justify"]=!0,a["text-orientation"]=!0,a["text-overflow"]=!0,a["text-shadow"]=!0,a["text-space-collapse"]=!0,a["text-transform"]=!0,a["text-underline-position"]=!0,a["text-wrap"]=!0,a.top=!1,a.transform=!1,a["transform-origin"]=!1,a["transform-style"]=!1,a.transition=!1,a["transition-delay"]=!1,a["transition-duration"]=!1,a["transition-property"]=!1,a["transition-timing-function"]=!1,a["unicode-bidi"]=!1,a["vertical-align"]=!1,a.visibility=!1,a["voice-balance"]=!1,a["voice-duration"]=!1,a["voice-family"]=!1,a["voice-pitch"]=!1,a["voice-range"]=!1,a["voice-rate"]=!1,a["voice-stress"]=!1,a["voice-volume"]=!1,a.volume=!1,a["white-space"]=!1,a.widows=!1,a.width=!0,a["will-change"]=!1,a["word-break"]=!0,a["word-spacing"]=!0,a["word-wrap"]=!0,a["wrap-flow"]=!1,a["wrap-through"]=!1,a["writing-mode"]=!1,a["z-index"]=!1,a}function e(a,b,c){}function f(a,b,c){}c.whiteList=d(),c.getDefaultWhiteList=d,c.onAttr=e,c.onIgnoreAttr=f},{}],8:[function(a,b,c){function d(a,b){var c=new f(b);return c.process(a)}var e=a("./default"),f=a("./css");c=b.exports=d,c.FilterCSS=f;for(var g in e)c[g]=e[g];"function"==typeof define&&define.amd&&define(function(){return b.exports}),"undefined"!=typeof window&&(window.filterCSS=b.exports)},{"./css":6,"./default":7}],9:[function(a,b,c){function d(a,b){function c(){if(!f){var c=e.trim(a.slice(g,h)),d=c.indexOf(":");if(-1!==d){var j=e.trim(c.slice(0,d)),k=e.trim(c.slice(d+1));if(j){var l=b(g,i.length,j,k,c);l&&(i+=l+"; ")}}}g=h+1}a=e.trimRight(a),";"!==a[a.length-1]&&(a+=";");for(var d=a.length,f=!1,g=0,h=0,i="";d>h;h++){var j=a[h];if("/"===j&&"*"===a[h+1]){var k=a.indexOf("*/",h+2);if(-1===k)break;h=k+1,g=h+1,f=!1}else"("===j?f=!0:")"===j?f=!1:";"===j?f||c():"\n"===j&&c()}return e.trim(i)}var e=a("./util");b.exports=d},{"./util":10}],10:[function(a,b,c){b.exports={indexOf:function(a,b){var c,d;if(Array.prototype.indexOf)return a.indexOf(b);for(c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},forEach:function(a,b,c){var d,e;if(Array.prototype.forEach)return a.forEach(b,c);for(d=0,e=a.length;e>d;d++)b.call(c,a[d],d,a)},trim:function(a){return String.prototype.trim?a.trim():a.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(a){return String.prototype.trimRight?a.trimRight():a.replace(/(\s*$)/g,"")}}},{}]},{},[2]),function(){"use strict";var a=function(a){return[{type:"lang",filter:function(b){return b.replace(/^\[\^([\d\w]+)\]:((.+)|(\n+(\s{2,}|\t).+)+)$/gm,function(b,c,d,e,f){var g;return g=f?a.makeHtml(d.replace(/^\s+/gm,"")):" "+e,'<li class="footnote" id="fn:'+c+'">'+g+'<small><a href="#fnref:'+c+'" rev="footnote">↩</a></small></li>'})}},{type:"lang",filter:function(a){return a.replace(/\[\^([\d\w]+)\]/gm,function(a,b){return'<sup id="fnref:'+b+'"><a href="#fn:'+b+'" rel="footnote">['+b+"]</a></sup>"})}},{type:"output",filter:function(a){return a=a.replace(new RegExp('<p>(<li class="footnote".*</li>)</p>',"mg"),function(a,b){return b}),a=a.replace(new RegExp('(<li class="footnote")',"m"),function(a,b){return'<div class="footnotes">\n<ol>'+b}),a=a.replace(new RegExp('(<li class="footnote".*</li>)(?![.\n\r]*<li class="footnote")',"mg"),function(a,b){return b+"</ol>\n</div>"})}}]};"undefined"!=typeof window&&window.showdown&&window.showdown.extensions&&window.showdown.extension("footnotes",a),"undefined"!=typeof module&&(module.exports=a)}(),function(a,b,c,d){"use strict";function e(a){b.console&&p&&b.console.log(a)}function f(a,b,c){var d=a.editor,e=function(){var a=d.val(),c=d.getSelection(),e=b.before||"",f=b.placeholder||"",g=b.after||"";if(b.preselectLine){var h=a.lastIndexOf("\n",c.start)+1,i=a.indexOf("\n",c.end);-1===i&&(i=a.length),d.setSelection(h,i),c=d.getSelection()}if(c.length>0&&(f=c.text),b.isBlock)for(var j=0;2>j;j++){var k=a.charAt(c.start-1-j),l=a.charAt(c.end+j);"\n"!==k&&""!==k&&(e="\n"+e),"\n"!==l&&""!==l&&(g+="\n")}c.text!==f&&d.replaceSelectedText(f,"select"),d.surroundSelectedText(e,g,"select")};c.click(function(f){c.hasClass("disabled")||(b.click?b.click(a,b,c,e):e(),a.update()),d.focus(),f.preventDefault()})}function g(a){a.on("click",function(){a.siblings("li").removeClass(o+"_controlgroup-open").children("ul").hide(),a.toggleClass(o+"_controlgroup-open").children("ul").toggle()})}function h(b,c,i){var j=a("<ul />");i?(j.css("display","none"),j.addClass(o+"_controlgroup-"+c.name+" "+o+"_controlgroup-dropdown")):j.addClass("meltdown_controls");for(var k=0;k<c.length;k++){var l=c[k],m=a("<li />"),n=a("<span />").appendTo(m);if("string"===a.type(l)){if("|"===l){j.append(m.addClass(o+"_controlsep "+o+"_controlbutton"));continue}var p=a.meltdown.controlDefs[l];if(p===d){e("Control not found: "+l);continue}m.addClass(o+"_control-"+l+" "+o+"_control "+o+"_controlbutton "+(p.styleClass||"")),n.text(p.label).attr("title",p.altText),f(b,p,m)}else a.isArray(l)&&(m.addClass(o+"_controlgroup-"+l.name+" "+o+"_controlgroup "+o+"_controlbutton"),n.text(l.label).append('<i class="meltdown-icon-caret-down" />'),g(m),m.append(h(b,l,!0)));j.append(m)}return j}function i(b,c){c.click(function(c){var d=a('<div class"'+o+'_warning"/>').html('<center><b>The preview area is a tech preview feature</b></center><br/>Live previews <b>can</b> cause the browser tab to stop responding.<br/><br/>There is a <a target="_blank" href="https://github.com/iphands/Meltdown/issues/1">known issue</a> with <a target="_blank" href="https://github.com/tanakahisateru/js-markdown-extra#notice">one of the libraries</a> used to generate the live preview.<br/><br/>This warning will be removed when the issue is resolved.<br/><br/><center><i>Click to continue.</i></center>').css({background:"#fdd",cursor:"pointer"});d.on("click",function(c){a(c.target).is("a, a *")||b.update(!0)}),b.preview.empty().append(d),c.preventDefault()})}function j(a,b,c,d,e){a.addClass("meltdown_resizehandle-"+(d?"vert":"horiz"));var f,g,h,i,j,k=d?"height":"width",l=d?"pageY":"pageX",m=d?"lastEditorPercentHeight":"lastEditorPercentWidth",n=d?15:60,o=function(a){var n=Math.min(Math.max(a[l],g),h)-f,o=i+n,p=j-n;b[k](o),c[k](p),d||(b[0].style.maxWidth=o+"px",c[0].style.maxWidth=p+"px");var q=d?e.editor[0]:e.editorWrap[0],r=b[0]===q?o:p;e[m]=r/(o+p)};a.on("mousedown",function(a){if(e.isSidebyside()!==d){var m=b.add(c);b=m.first(),c=m.last(),f=a[l],i=b[k](),j=c[k](),g=f-i+n,h=f+j-n,t.on("mousemove",o).one("mouseup",function(){t.off("mousemove",o),u.removeClass("unselectable"),e.editor.focus()}),u.addClass("unselectable")}})}function k(a,b,c){var d,e,f,g=function(){a.apply(d,e)};return function(){return d=this,e=arguments,clearTimeout(f),f=setTimeout(g,b),c}}function l(a,b,c){return a!==!0&&a!==!1?!b:a===b?c?a:d:a}function m(a,b,c){var d=Math.round(b*a),e=a-d;return c>d?(e-=c-d,d=c):c>e&&(d-=c-e,e=c),{firstSize:d,lastSize:e}}for(var n="0.2",o="meltdown",p=!0,q=(c.all&&!c.addEventListener,[1,8,0]),r=a.fn.jquery.split(" ")[0].split("."),s=!1,t=a(c),u=a("body"),v=0;v<q.length;v++){var w=q[v],x=parseInt(r[v],10);if(w>x){s=!0;break}if(x>w)break}var y=a('<div style="bottom: 0;" />'),z=function(a,b,c){return c.name=a,c.label=b,c};a.meltdown={version:n,controlsGroup:z,defaults:{controls:z("","",["preview","bold","italics","ul","ol","|","table",z("h","Headers",["h1","h2","h3","h4","h5","h6"]),"|",z("kitchenSink","Kitchen Sink",["link","img","blockquote","codeblock","code","footnote","hr"]),"fullscreen","sidebyside"]),fullscreen:!1,openPreview:!1,previewHeight:"editorHeight",previewCollapses:!0,sidebyside:!1,autoScrollPreview:!0,previewDuration:400,parser:b.Markdown},controlDefs:{bold:{label:"B",altText:"Bold",before:"**",after:"**"},italics:{label:"I",altText:"Italics",before:"*",after:"*"},ul:{label:"UL",altText:"Unordered List",preselectLine:!0,before:"* ",placeholder:"Item\n* Item",isBlock:!0},ol:{label:"OL",altText:"Ordered List",preselectLine:!0,before:"1. ",placeholder:"Item 1\n2. Item 2\n3. Item 3",isBlock:!0},table:{label:"Table",altText:"Table",before:"First Header  | Second Header\n------------- | -------------\nContent Cell  | Content Cell\nContent Cell  | Content Cell\n",isBlock:!0},link:{label:"Link",altText:"Link",before:"[",placeholder:"Example link",after:'](http:// "Link title")'},img:{label:"Image",altText:"Image",before:"![Alt text](",placeholder:"http://",after:")"},blockquote:{label:"Blockquote",altText:"Blockquote",preselectLine:!0,before:"> ",placeholder:"Quoted text",isBlock:!0},codeblock:{label:"Code Block",altText:"Code Block",preselectLine:!0,before:"~~~\n",placeholder:"Code",after:"\n~~~",isBlock:!0},code:{label:"Code",altText:"Inline Code",before:"`",placeholder:"code",after:"`"},footnote:{label:"Footnote",altText:"Footnote",before:"[^1]\n\n[^1]:",placeholder:"Example footnote",isBlock:!0},hr:{label:"HR",altText:"Horizontal Rule",before:"----------",placeholder:"",isBlock:!0},fullscreen:{label:"Fullscreen",altText:"Toggle fullscreen",click:function(a){a.toggleFullscreen()}},sidebyside:{label:"Sidebyside",altText:"Toggle sidebyside",click:function(a){a.toggleSidebyside()}},preview:{label:"Preview",altText:"Toggle preview",click:function(a){a.togglePreview()}}}},function(a){for(var b="",c=1;6>=c;c++)b+="#",a["h"+c]={label:"H"+c,altText:"Header "+c,preselectLine:!0,before:b+" "}}(a.meltdown.controlDefs);var A=a.meltdown.Meltdown=function(b){this.element=a(b)};a.meltdown.methods=a.extend(A.prototype,{_init:function(b){var c=this,e=this._options=a.extend({},a.meltdown.defaults,b);this._lastUpdateText="",this.parser=e.parser||function(a){return a},this.editorPreInitOuterWidth=this.element.outerWidth(),this.wrap=a('<div class="'+o+'_wrap previewopen" />'),this.topmargin=a('<div class="'+o+'_topmargin"/>').appendTo(this.wrap),this.bar=a('<div class="meltdown_bar"></div>').appendTo(this.wrap),this.editorWrap=a('<div class="'+o+'_editor-wrap" />').appendTo(this.wrap),this.editorDeco=a('<div class="'+o+'_editor-deco" />').appendTo(this.editorWrap),this.editor=this.element.addClass("meltdown_editor"),this.previewWrap=a('<div class="'+o+'_preview-wrap" />').appendTo(this.wrap),this.resizeHandle=a('<div class="'+o+'_resizehandle"><span></span></div>').appendTo(this.previewWrap),this.previewHeader=a('<span class="'+o+'_preview-header">Preview Area (<a class="meltdown_techpreview" href="https://github.com/iphands/Meltdown/issues/1">Tech Preview</a>)</span>').appendTo(this.previewWrap),this.preview=a('<div class="'+o+'_preview" />').appendTo(this.previewWrap),this.bottommargin=a('<div class="'+o+'_bottommargin"/>').appendTo(this.wrap),this.wrap.outerWidth(this.editorPreInitOuterWidth),s&&this.wrap.width(this.editorPreInitOuterWidth);var f=e.previewHeight;"editorHeight"===f&&(f=this.editor.height()),this.preview.height(f),this.controls=h(this,e.controls).appendTo(this.bar),i(this,this.previewHeader.find(".meltdown_techpreview")),this.editor.focus(function(){c.editorDeco.addClass("focus")}).blur(function(){c.editorDeco.removeClass("focus")}),this.previewWrap2=a('<div class="'+o+'_preview-wrap2"></div>').appendTo(this.previewWrap),this.previewWrap2.append(this.resizeHandle,this.previewHeader,this.preview),j(this.resizeHandle,this.editor,this.preview,!0,this),j(this.resizeHandle,this.editorWrap,this.previewWrap,!1,this),this.debouncedUpdate=k(this.update,350,this),this.editor.on("keyup",a.proxy(this.debouncedUpdate,this)),this.fullscreenData={},this.editor.after(this.wrap).appendTo(this.editorDeco),this._checkToolbarOverflowedControls(),this._previewCollapses=e.previewCollapses,this.togglePreview(!0,0,!0,!e.openPreview),this.isPreviewCollapses()||"auto"!==e.previewHeight||this.preview.height("+=0"),this._checkHeightsManaged("",d,!0);var g=this.wrap.height(),l=parseFloat(this.editor.css("minHeight"))+parseFloat(this.preview.css("minHeight")),m=this.editor.height();return f=this.preview.height(),this.wrap.css("minHeight",g-m-f+l),this.lastWrapWidth=this.wrap.width(),this.lastWrapHeight=g,this.lastEditorPercentWidth=.5,this.lastEditorPercentHeight=m/(m+f),addResizeListener(this.wrap[0],a.proxy(this._wrapResizeListener,this)),e.openPreview||this.togglePreview(!1,0),this.toggleSidebyside(e.sidebyside,!0),e.fullscreen&&this.toggleFullscreen(e.fullscreen),this},options:function(a,b){return 1===arguments.length?this._options[a]:arguments.length>1?(this._options[a]=b,this):void 0},update:function(a){return this.updateWith(this.editor.val(),a)},updateWith:function(a,b){if(b===!0||this.isPreviewOpen()&&a!==this._lastUpdateText){var c=this.preview[0],d=c.scrollHeight-c.scrollTop===c.clientHeight;this.preview.html(this.parser(a)),d&&(c.scrollTop=c.scrollHeight),this._lastUpdateText=a}return this},isPreviewOpen:function(){return this.wrap.hasClass("previewopen")},togglePreview:function(b,c,e,f){if(b=l(b,this.isPreviewOpen(),e),b===d)return this;c===d&&(c=this._options.previewDuration);var g=this,h=this.editor.height(),i=b?0:this.previewWrap.outerHeight(),j=h+i,k=this._isHeightsManaged()?function(){g.editor.height(j-g.previewWrap.outerHeight())}:a.noop,n=this.editorWrap.width(),o=b?0:this.previewWrap.width(),p=function(a){g.previewWrap[0].style.maxWidth=a+"px";var b=n+(o-a);g.editorWrap.width(b),g.editorWrap[0].style.maxWidth=b+"px"},q=function(){g.previewWrap.css("display","")};if(b)if(this.wrap.addClass("previewopen"),f||this.update(),this.isSidebyside())this.previewWrap.stop().animate({width:"show"},{duration:c,step:p,start:function(a){var b=m(g.wrap.width(),g.lastEditorPercentWidth,60);a.tweens[0].end=b.lastSize,q()},complete:q});else{var r=this.previewWrap.outerHeight();this._heightsManaged&&r>h-15&&this.preview.height("-="+(r-(h-15))),s?(this._heightsManaged&&this.editor.height("-="+r),this.previewWrap.stop().show(),q()):this.previewWrap.stop().slideDown({duration:c,progress:k,start:q,complete:q})}else this.isSidebyside()?this.previewWrap.stop().animate({width:"hide"},{duration:c,step:p,complete:function(){g.previewWrap.css("max-width","")}}):!s&&this.previewWrap.is(":visible")&&c>0?this.previewWrap.stop().slideUp({duration:c,progress:k}):(this.previewWrap.stop().hide(),this._heightsManaged&&this.editor.height(j)),this.wrap.removeClass("previewopen");return this},isFullscreen:function(){return this.wrap.hasClass("fullscreen")},toggleFullscreen:function(a){if(a=l(a,this.isFullscreen()),a===d)return this;var b=this.fullscreenData;if(a){b.originalWrapHeight=this.wrap.height(),b.availableHeight=this.editor.height()+this.preview.height(),b.originalWrapStyleHeight=this.wrap[0].style.height,this._checkHeightsManaged("fullscreen",!0),this.wrap.addClass("fullscreen");var c=this;t.on("keypress."+o+".fullscreenEscKey",function(a){27===a.keyCode&&c.toggleFullscreen(!1)})}else{if(t.off("keypress."+o+".fullscreenEscKey"),this.wrap.removeClass("fullscreen"),this._isHeightsManaged())this._adjustHeights(b.originalWrapHeight),this.lastWrapHeight=b.originalWrapHeight;else{var e=m(b.availableHeight,this.lastEditorPercentHeight,15);this.editor.height(e.firstSize),this.preview.height(e.lastSize)}this._checkHeightsManaged("fullscreen",!1),this.wrap[0].style.height=b.originalWrapStyleHeight}return this._wrapResizeListener(),this},isSidebyside:function(){return this.wrap.hasClass("sidebyside")},toggleSidebyside:function(a,b){if(a=l(a,this.isSidebyside(),b),a===d)return this;var c=this.isPreviewOpen(),e=this.bottommargin.offset().top;if(a){this.wrap.addClass("sidebyside"),this._adjustWidths(this.wrap.width()),c||this.togglePreview(!0,0,!1,!0);var f=y.appendTo(this.editorWrap).offset().top,g=y.appendTo(this.previewWrap).offset().top;y.detach(),c||this.togglePreview(!1,0,!1,!0);var h=f-g;this.preview.height("+="+h);var i=e-this.bottommargin.offset().top;this.editor.height("+="+i),this.preview.height("+="+i),this._checkHeightsManaged("sidebyside",!0)}else{c||this.togglePreview(!0,0,!1,!0);var j=this.wrap.height();this.editorWrap.css("width",""),this._checkHeightsManaged("sidebyside",!1),this.editorWrap.css({width:"",maxWidth:""}),this.previewWrap.css({width:"",maxWidth:""}),this.wrap.removeClass("sidebyside");var k=this.bottommargin.offset().top-e;this.lastWrapHeight=j+k,this._adjustHeights(j),this.lastWrapHeight=j,c||this.togglePreview(!1,0,!1,!0)}return this},isPreviewCollapses:function(){return this._previewCollapses},togglePreviewCollapses:function(a,b){return a=l(a,this._previewCollapses,b),a===d?this:(this._previewCollapses=a,this._checkHeightsManaged(),this)},_isHeightsManaged:function(){return this._heightsManaged},_toggleHeightsManaged:function(a,b){return a=l(a,this._heightsManaged,b),a===d?this:(a?this.wrap.height("+=0").addClass("heightsManaged"):this.wrap.height("auto").removeClass("heightsManaged"),this._heightsManaged=a,this)},_checkHeightsManaged:function(a,b,c){var d="previewCollapses"===a?b:this._previewCollapses,e="fullscreen"===a?b:this.isFullscreen(),f="sidebyside"===a?b:this.isSidebyside(),g=!d||e||f;(c||g!==this._heightsManaged)&&this._toggleHeightsManaged(g,c)},_wrapResizeListener:function(){var a=this.wrap.width(),b=this.wrap.height();if(a!==this.lastWrapWidth&&(this._checkToolbarOverflowedControls(),this._adjustWidths(a),this.lastWrapWidth=a),b!==this.lastWrapHeight){if(this._heightsManaged)this._adjustHeights(b);else{
var c=this.editor.height();this.lastEditorPercentHeight=c/(c+this.preview.height())}this.lastWrapHeight=b}},_adjustHeights:function(a){var b;if(this.isSidebyside()){var c=a-this.lastWrapHeight;b={firstSize:this.editor.height()+c,lastSize:this.preview.height()+c}}else{var d=this.isPreviewOpen(),e=this.editor.height(),f=d?this.preview.height():0,g=e+f+(a-this.lastWrapHeight);b=m(g,this.lastEditorPercentHeight,15),d||(b.firstSize=e+(a-this.lastWrapHeight))}return this.editor.height(b.firstSize),this.preview.height(b.lastSize),this},_adjustWidths:function(a){if(this.isSidebyside()){var b=m(a,this.lastEditorPercentWidth,60);this.isPreviewOpen()||(b.firstSize+=b.lastSize),this.editorWrap.width(b.firstSize),this.previewWrap.width(b.lastSize),this.editorWrap[0].style.maxWidth=b.firstSize+"px",this.previewWrap[0].style.maxWidth=b.lastSize+"px"}return this},_checkToolbarOverflowedControls:function(){for(var b=this.controls.children(),c=a(b[0]),d=c.position().top,e=!1,f=b.length-1;f>1;f--)if(c=a(b[f]),!c.hasClass("overflowedControl")){if(c.position().top<=d)break;c.addClass("overflowedControl"),e=!0}if(!e)for(;f<b.length;f++)if(c=a(b[f]),a(b[f]).hasClass("overflowedControl")&&(c.removeClass("overflowedControl"),c.position().top>d)){c.addClass("overflowedControl");break}return this}}),a.fn.meltdown=function(b){for(var c,d,e,f="string"===a.type(b)?b:"_init",g=Array.prototype.slice.call(arguments,"_init"===f?0:1),h=0;h<this.length;h++){if(c=this[h],d=a.data(c,"Meltdown"),"_init"===f){if(d)continue;d=new A(c),a.data(c,"Meltdown",d)}if(e=d[f].apply(d,g),e!==d)return e}return this};var B=h;h=function(){var a=B.apply(this,arguments);return a.find("span").attr("unselectable","on"),a},s&&(a.meltdown.controlDefs.sidebyside.styleClass="disabled",a.meltdown.controlDefs.sidebyside.altText="Disabled: requires jQuery 1.8+",A.prototype.toggleSidebyside=function(){return e("Requires jQuery 1.8+"),this})}(jQuery,window,document);var _t=annotator.util.gettext,annotatormeltdown={filterXSS:function(a){var b=filterXSS.getDefaultWhiteList();return b.audio=["controls","loop","preload","src"],b.source=["src","type"],b.a.push("name","id","class"),filterXSS(a,{whiteList:b})},converter:new showdown.Converter({extensions:["footnotes"]}),parser:function(a){var b=annotatormeltdown.converter.makeHtml(annotatormeltdown.filterXSS(a));return b},render:function(a){return a.text?annotatormeltdown.parser(a.text):"<i>"+_t("No comment")+"</i>"},viewerExtension:function(a){return window.showdown&&"object"==typeof window.showdown?void a.setRenderer(annotatormeltdown.render):void console.warn(_t("To use the Meltdown viewer extension, you must include showdown in the page."))},textarea_keydown:function(a){27===a.which?this.cancel():13===a.which&&a.shiftKey&&this.submit()},customize_meltdown:function(){$.meltdown.defaults.controls[9].push("audio"),$.meltdown.controlDefs.audio={label:"Audio",altText:"Audio",before:"\n\n<audio controls='controls'>\n<source src='",placeholder:"http://",after:"' type='audio/mpeg'/>\n</audio>\n\n"},$.meltdown.controlDefs.codeblock.before="```\n",$.meltdown.controlDefs.codeblock.after="\n```"},show:function(a){this._pre_meltdown_show(a),$(this.element).trigger("annotator-meltdown:editor-show");var b=$(this.element).find("textarea").first();this.meltdown_initialized?b.first().meltdown("update"):(annotatormeltdown.customize_meltdown(),b.first().meltdown({previewCollapses:!1,openPreview:!0,parser:annotatormeltdown.parser}),this.meltdown_options.min_width&&this.element.find(".annotator-widget").css("min-width",this.meltdown_options.min_width),this.meltdown_options.font_awesome&&this.element.find(".meltdown_controls").addClass("fa-avail"),$(".meltdown_controlgroup-dropdown").css("z-index",parseInt($(".annotator-editor").css("z-index"))+1),console.log("triggering"),$(this.element).trigger("annotator-meltdown:meltdown-initialized"),this.meltdown_initialized=!0),b.first().focus()},submit:function(){var a=$(this.element).find("textarea").first();return a.val(annotatormeltdown.filterXSS(a.val())),$(this.element).trigger("annotator-meltdown:editor-submit"),this._pre_meltdown_submit()},getEditorExtension:function(a){var b={min_width:"375px",font_awesome:!1};return $.extend(b,a),function(a){return jQuery.meltdown&&"object"==typeof jQuery.meltdown?(a._onTextareaKeydown=annotatormeltdown.textarea_keydown,a._pre_meltdown_show=a.show,a.show=annotatormeltdown.show,a.meltdown_initialized=!1,a.meltdown_options=b,a._pre_meltdown_submit=a.submit,void(a.submit=annotatormeltdown.submit)):void console.warn(_t("To use the Meltdown editor extension, you must include meltdown in the page."))}}};$(document).on("annotator-meltdown:meltdown-initialized",function(){console.log("meltdown initialized")}),$(document).on("annotator-meltdown:editor-closed",function(){console.log("meltdown closed")});